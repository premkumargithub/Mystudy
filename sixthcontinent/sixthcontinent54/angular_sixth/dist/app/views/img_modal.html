<style>
.modal-img-inner .modal-popup-close {
position: absolute;
top: -18px;
right: -18px;
width: 36px;
height: 36px;
cursor: pointer;
z-index: 8040;
background-image: url('app/assets/images/fancybox_sprite.png');
}
.modal-img-inner .img-left-popup {
width: 100%;
height: 100%;
position: relative;
}

.modal-img-inner .img-right-popup {
width: 360px;
position: absolute;
right: 0;
top: 0;
height: 100%;
padding: 	10px 0px 0px;
background: #fff;
}
.modal-content .modal-img-inner img.tag-imgae{max-height: 100%;max-height: 100%;position: absolute;right: 0;left: 0;top: 0;bottom: 0;margin: auto}.modal.in .modal-dialog{width:80%; max-width: 80%;margin: auto;height: 90%;left: 0;right: 0;top: 0;bottom: 0;position: absolute}.modal .modal-content{border: border: 5px solid #fff;height: 100%}.modal-img-inner{background: #000;height: 100%;padding: 0 360px 0 0;}.modal-img-tag-desc .modal-tag-frnds-input input[type="text"]{font-size: 12px;width: auto;border: none; background:  none;}.modal.in .modal-dialog .fancybox-wrap{position: relative}.modal-img-tag-desc{margin: 10px 0 0px; z-index: 8042;background: none;border: 1px solid #ddd;color: #aaa;padding: 5px;box-shadow: rgb(204, 204, 204) 0px 0px 1px 0px !important;-moz-box-shadow: rgb(204, 204, 204) 0px 0px 1px 0px !important;-webkit-box-shadow: rgb(204, 204, 204) 0px 0px 1px 0px !important;}.modal-img-tag-desc > span{display: inline-block;vertical-align: middle}.modal-img-tag-desc span.tag-list-block .tag-friends{display: inline-block;vertical-align: middle;margin: 0 5px 5px 0px;background: rgba(238, 238, 238, 1);padding: 4px 6px;font-size: 11px;font-weight: 400;border-radius: 3px}.modal-img-tag-desc span.tag-list-block .tag-friends b{margin-left: 5px}.modal-content .modal-img-tag{background: #fff;padding: 5px 8px;font-size: 13px;-webkit-border-radius: 2px;-moz-border-radius: 2px;-ms-border-radius: 2px;-o-border-radius: 2px;border-radius: 2px;box-shadow:0px 0px 2px 1px #ddd;-moz-box-shadow:0px 0px 2px 1px #ddd;-webkit-box-shadow:0px 0px 2px 1px #ddd;z-index: 8042;display: inline-block;vertical-align: middle;}.modal-content .modal-img-tag img{width: 15px;height: auto;}.modal-content .modal-img-untag{position: absolute;right: 11px;top: 11px;cursor: pointer;background: #fff;padding: 5px 8px;font-size: 13px;-webkit-border-radius: 2px;-moz-border-radius: 2px;-ms-border-radius: 2px;-o-border-radius: 2px;border-radius: 2px;box-shadow:0px 0px 2px 1px #ddd;-moz-box-shadow:0px 0px 2px 1px #ddd;-webkit-box-shadow:0px 0px 2px 1px #ddd;z-index: 8042;display: inline-block;vertical-align: middle;}

.modal-img-inner .img-right-popup .profile-container{ position:  relative; padding: 0 0 0 68px;}
.modal-img-inner .img-right-popup .profile-container .upload-user{position:  absolute; height: 58px;width: 58px; left: 0; top: 0;}
	.img-right-popup .upload-detials .comments-user-name {
font-weight: bold;
display: block;
color: #2372ad;
padding: 0 50px 0 0;
}
@media screen and (max-width:1023px){
.modal.in .modal-dialog{
	max-height: 80%;
	max-width: 90%;
	width:90%;
}

.modal.in .modal-dialog .modal-content{
	max-height: 100%;
	max-width: 100%;
}
}

@media screen and (max-width:800px){
.modal-img-inner .img-right-popup{
	width: 260px;	
}

.modal-img-inner {
	padding: 0 260px 0 0;
}
}

@media screen and (max-width:768px){
.modal-img-inner .img-right-popup{
	width: 100%;
	bottom: 0;
	height: 150px;
	top: auto;
}

.modal-img-inner {
	padding: 0 0 150px 0;
}
}
</style>


<div class="modal-img-inner" data-ng-class="parent_type != 'user_profile_album_photo' ? 'full-width-popup' : ''">
	<div data-ng-show="true" data-ng-class="parent_type == 'user_profile_album_photo' ? 'inner-loader' : ''" class="loader-element"> 
		<img src="app/assets/images/loader-img.gif">
	</div>
	<!-- img-left-popup starts -->
	<div class="img-left-popup"  data-ng-hide="modal_loader">
		<img id="Img_modal_image" ng-src="{{img_src}}" class="tag-imgae">
	 	<div class="slide-contros">
	  		<a data-ng-show="pre_visible && !tag" data-ng-click="change_image(media_index,viewalbum,leng,parent_id,parent_type,'pre')" class="pre slide-btn" href>
	   			<span></span>
	  		</a>
	  		<a data-ng-click="change_image(media_index,viewalbum,leng,parent_id,parent_type,'next')" data-ng-show = "next_visible && !tag" class="next slide-btn" href>
	   			<span></span>
	  		</a>
	  		<div class="ratings-section-outer" data-ng-if="parent_type == 'user_profile_album_photo' || parent_type == 'friend_album'">
					<div class="rating-section">
						<div class="disable-rating" data-ng-show="waitRateResponse"></div>
						<rating value="viewalbum[media_index].current_user_rate" max="max" readonly="isReadonly" on-hover="hoveringOver(value, media_index)" on-leave="overStar" changes="ratePicture(value, viewalbum[media_index].id, media_index)" class="ratings-block"></rating>				
					    <span class="rate-post" ng-if="viewalbum[media_index].current_user_rate == 0" ng-bind="i18n.profile_post.rate_picture"></span><span class="rate-post" ng-if="viewalbum[media_index].current_user_rate > 0" data-ng-click="removeRating(viewalbum[media_index].id,media_index)"><a href ng-bind="i18n.profile_post.remove_rating"></a> </span>
					</div>
					<div class="average-ratings" >
                        <span class="total-votes" > <span ng-bind=" viewalbum[media_index].no_of_votes"></span> <a href data-ng-click="findPeopleRate( viewalbum[media_index].id,  viewalbum[media_index].no_of_votes)" >
                        <span data-ng-if="viewalbum[media_index].no_of_votes > 1" class="image-popup-close" data-ng-bind="i18n.profile_post.votes"></span>
                        <span data-ng-if="viewalbum[media_index].no_of_votes <= 1"class="image-popup-close" data-ng-bind="i18n.profile_post.vote"></span>  </a></span>
                        <span class="votes-star">
                            <ul>
                                <li data-ng-repeat="avgRate in averageRating(viewalbum[media_index].avg_rate) track by $index">
                                    <!-- <span ng-class=" viewalbum[media_index].avg_rate % 1 == 0 ?'votes-avg': ($last ? 'half-avg':'votes-avg')" /> -->
                                    <span ng-class="viewalbum[media_index].avg_rate % 1 == 0 ? 'votes-avg' : ($last ? (viewalbum[media_index].avg_rate % 1 > 0.5 ? 'votes-avg' : 'half-avg' ):'votes-avg')"></span>
                                </li>
                                <li ng-repeat="blank in blankStar( viewalbum[media_index].avg_rate) track by $index">
                                	<span class="votes-blank"/>
                                </li>
                            </ul>
                        </span>
                    </div>
					<div class="clr"></div>
			</div>
			<div class="ratings-section-outer" data-ng-if="parent_type == 'club_album_photo' && is_member == 1">
					<div class="rating-section">
						<div class="disable-rating" data-ng-show="waitRateResponse"></div>
						<rating value="viewalbum[media_index].current_user_rate" max="max" readonly="isReadonly" on-hover="hoveringOver(value, media_index)" on-leave="overStar" changes="ratePicture(value, viewalbum[media_index].id, media_index)" class="ratings-block"></rating>				
					    <span class="rate-post" ng-if="viewalbum[media_index].current_user_rate == 0" ng-bind="i18n.profile_post.rate_picture"></span><span class="rate-post" ng-if="viewalbum[media_index].current_user_rate > 0" data-ng-click="removeRating(viewalbum[media_index].id,media_index)"><a href ng-bind="i18n.profile_post.remove_rating"></a> </span>
					</div>
					<div class="average-ratings" >
                        <span class="total-votes" > <span ng-bind=" viewalbum[media_index].no_of_votes"></span> <a href data-ng-click="findPeopleRate( viewalbum[media_index].id,  viewalbum[media_index].no_of_votes)" >
                        <span data-ng-if="viewalbum[media_index].no_of_votes > 1" class="image-popup-close" data-ng-bind="i18n.profile_post.votes"></span>
                        <span data-ng-if="viewalbum[media_index].no_of_votes <= 1"class="image-popup-close" data-ng-bind="i18n.profile_post.vote"></span>
                       </a></span>
                        <span class="votes-star">
                            <ul>
                                <li data-ng-repeat="avgRate in averageRating(viewalbum[media_index].avg_rate) track by $index">
                                  <span ng-class="viewalbum[media_index].avg_rate % 1 == 0 ? 'votes-avg' : ($last ? (viewalbum[media_index].avg_rate % 1 > 0.5 ? 'votes-avg' : 'half-avg' ):'votes-avg')"></span>
                                </li>
                                <li ng-repeat="blank in blankStar( viewalbum[media_index].avg_rate) track by $index">
                                	<span class="votes-blank"/>
                                </li>
                            </ul>
                        </span>
                    </div>
					<div class="clr"></div>
			</div>
				<div class="ratings-section-outer" data-ng-if="parent_type == 'store_media'">
					<div class="rating-section">
						<div class="disable-rating" data-ng-show="waitRateResponse"></div>
						<rating value="viewalbum[media_index].current_user_rate" max="max" readonly="isReadonly" on-hover="hoveringOver(value, media_index)" on-leave="overStar" changes="ratePicture(value, viewalbum[media_index].id, media_index)" class="ratings-block"></rating>				
					    <span class="rate-post" ng-if="viewalbum[media_index].current_user_rate == 0" ng-bind="i18n.profile_post.rate_picture"></span><span class="rate-post" ng-if="viewalbum[media_index].current_user_rate > 0" data-ng-click="removeRating(viewalbum[media_index].id,media_index)"><a href ng-bind="i18n.profile_post.remove_rating"></a> </span>
					</div>
					<div class="average-ratings" >
                        <span class="total-votes" > <span ng-bind=" viewalbum[media_index].no_of_votes"></span> <a href data-ng-click="findPeopleRate( viewalbum[media_index].id,  viewalbum[media_index].no_of_votes)" >
                        <span data-ng-if="viewalbum[media_index].no_of_votes > 1" class="image-popup-close" data-ng-bind="i18n.profile_post.votes"></span>
                        <span data-ng-if="viewalbum[media_index].no_of_votes <= 1"class="image-popup-close" data-ng-bind="i18n.profile_post.vote"></span> </a></span>
                        <span class="votes-star">
                            <ul>
                                <li data-ng-repeat="avgRate in averageRating(viewalbum[media_index].avg_rate) track by $index">
                                   <span ng-class="viewalbum[media_index].avg_rate % 1 == 0 ? 'votes-avg' : ($last ? (viewalbum[media_index].avg_rate % 1 > 0.5 ? 'votes-avg' : 'half-avg' ):'votes-avg')"></span>
                                </li>
                                <li ng-repeat="blank in blankStar( viewalbum[media_index].avg_rate) track by $index">
                                	<span class="votes-blank"/>
                                </li>
                            </ul>
                        </span>
                    </div>
					<div class="clr"></div>
			</div>
	 	</div>
	</div><!-- img-left-popup ends here -->
	<div class="modal-popup-close" data-ng-click="closeModal()" data-ng-if="parent_type != 'user_profile_album_photo'"></div>
 	<!-- right-left-popup starts -->
 	<div data-ng-if="toBelong && (parent_type === 'friend_tagged_photos' || parent_type === 'user_tagged_photos')" class="modal-img-untag" ng-click="untagg()">Untag 
					<img title="Remove Tag" alt="Tag Friends" src="app/assets/images/tag-icon-remove.png" >
	</div>
 	<div class="img-right-popup"  data-ng-if="parent_type == 'user_profile_album_photo'">
	 	<div class="srollable-content-image" >
		 	<div class="outer-profile-container" data-ng-hide="modal_loader">
				<div class="profile-container">
					<span class="upload-user">
						<a href ng-click="viewUserProfile(user_id);" data-ng-if="user_id !== currentUser.basicProfile.user_id" class="strong">
							<img data-ng-src="{{user_profile_image_thumb}}" data-ng-if="user_profile_image_thumb != ''">
							<img src="app/assets/images/dummy60X60.jpg" data-ng-if="user_profile_image_thumb == ''">
						</a>

						<a href ng-click="viewUserProfile(user_id);" data-ng-if="user_id === currentUser.basicProfile.user_id" class="strong">
							<img data-ng-src="{{user_profile_image_thumb}}" data-ng-if="user_profile_image_thumb != ''">
							<img src="app/assets/images/dummy60X60.jpg" data-ng-if="user_profile_image_thumb == ''">
						</a>
					</span>
					<span class="upload-detials">
						<span class="comments-user-name">
							<a href ng-click="viewUserProfile(user_id);" data-ng-if="user_id !== currentUser.basicProfile.user_id" class="strong">
								{{user_name}}
							</a>

							<a href ng-click="viewUserProfile(user_id);" data-ng-if="user_id === currentUser.basicProfile.user_id" class="strong">
								{{user_name}}
							</a>
						</span>
						<span class="comments-date-time" data-ng-if="img_date != ''">{{img_date | postDateFormat }}</span>
					</span>
				</div>
				<div class="user-comments-description" data-ng-if="parent_type == 'user_profile_album_photo'">
					<span ng-hide=choose><span ng-if="untagg_friend.length > 0 ">-- <span ng-bind="i18n.dashboard.postcomment.with"></span></span></span>
					<span ng-show=choose><span ng-if="tagged_Friends.length > 0 ">-- <span ng-bind="i18n.dashboard.postcomment.with"></span></span></span> 
					<a ng-repeat="tags in tagged_Friends" href="/viewfriend/{{tags.id}}" data-ng-click="closeModal()">{{tags.first_name}} {{tags.last_name}}<span ng-if="!$last && tags.first_name">, </span></a>
				</div>
				<div class="img-tagging" ng-click="Tagtoggle()" data-ng-if="parent_type == 'user_profile_album_photo'">{{i18n.album.album_tag}}</div>
				<span class="sideloader" data-ng-show="TagLoader">
	   				<img title="" alt="" src="app/assets/images/proceed.gif">
	   			</span>
					
				<div data-ng-if=toBelong class="modal-img-tag" ng-click="untagg()">Untag 
					<img title="Remove Tag" alt="Tag Friends" src="app/assets/images/tag-icon-remove.png" >
				</div>
				<span class="modal-img-tag img-update" data-ng-if="UpdateTag">
		   				<a href data-ng-click="taggService()">{{i18n.shop_affiliation.update}}</a>
	   			</span>
				<div ng-if="UpdateTag" class="modal-img-tag-desc" ng-click="putFocus()">
			 	    <span class="tag-list-block">
			   			<span class="tag-friends" data-ng-repeat="tags in tagged_Friends">{{tags.user_info.first_name}} {{tags.user_info.last_name}}
			   				<span data-ng-if="UpdateTag" class="remove-tag-btn" data-ng-click="removeTagFriend($index)">
			   					<b class="fa fa-times cross"></b>
			   				</span>
			   			</span>
			   		</span>
					<span class="modal-tag-frnds-input">
				  		<input id="searchTagFriend" data-ng-if="UpdateTag" type="text" data-ng-model="friendName" ng-keyup="tagFriendSuggestion($event, friendName)" data-ng-blur="lostFocus()"/>
			  			<div class="post-tag-friend-list" data-ng-show="showFriendList">
			   				<ul>
			    				<li data-ng-repeat="friend in friends" data-ng-click="selectFriend(friend)" ng-mouseover="$parent.friendTagIndex=$index" ng-class="{active : friendTagIndex===$index}">
			     					<a href>
									    <img alt="" data-ng-if='friend.user_info.profile_image_thumb' data-ng-src="{{friend.user_info.profile_image_thumb}}" width="" height=""/>
									    <img alt="" data-ng-if='!friend.user_info.profile_image_thumb' src= "app/assets/images/dummy32X32.jpg" width="" height=""/>
									     <span>{{friend.user_info.first_name}} {{friend.user_info.last_name}}</span>
							    	</a>
							   	</li>
						   	</ul>
						   	<span ng-show="showSearchLoader" class="ng-hide loading-icon">
						   		<img titile="" alt="" src="app/assets/images/proceed.gif">
					   		</span>
				   		</div>
				   	</span>
			   	</div>
			</div>
		</div><!-- right-left-popup ends here -->
		
 	</div>
</div>
<div class="modal-popup-close" data-ng-click="closeModal()"></div>
